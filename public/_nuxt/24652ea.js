(window.webpackJsonp=window.webpackJsonp||[]).push([[103],{1079:function(t,e,n){"use strict";n.r(e);n(24),n(251),n(12),n(4);var r={name:"Account",layout:"dashboard",data:function(){return{totalData:0,editedIndex:-1,loading:!0,allData:[],documentStatus:[],itemSearch:[],searchStatus:"",searchItem:"",search:"",form:{},defaultItem:{},options:{},items:[{text:"Edit",action:"edit"},{text:"Delete",action:"delete"}],itemText:"",itemAction:"",url:"/api/financial/accounts",headers:[{text:"Account Code",value:"code",cellClass:"disable-wrap"},{text:"Account Name",value:"name",cellClass:"disable-wrap"},{text:"Account Type",value:"account_type",cellClass:"disable-wrap"},{text:"Category",value:"category.name",cellClass:"disable-wrap"},{text:"Currency",value:"currency.currency_code",cellClass:"disable-wrap",sortable:!1,filterable:!1},{text:"Actions",value:"id",align:"right",cellClass:"disable-wrap",sortable:!1,filterable:!1}],title:"Chart Of Accounts"}},head:function(){return{title:this.title}},computed:{formTitle:function(){return-1===this.editedIndex?"New Account":"Edit Account"},buttonTitle:function(){return-1===this.editedIndex?"Save":"Update"}},watch:{options:{handler:function(){this.getDataFromApi()},deep:!0}},mounted:function(){this.itemText=this.items[0].text,this.itemAction=this.items[0].action,this.$nuxt.$emit("extensionSetting",this.title)},methods:{newData:function(){this.editedIndex=-1,this.$refs.forms.newData(this.form)},actions:function(t,e){"edit"===t?this.editItem(e):this.deleteItem(e)},editItem:function(t){this.editedIndex=this.allData.indexOf(t),this.$refs.forms.editItem(t,this.form)},deleteItem:function(t){var e=this,n=this;this.$swal({title:"Are you sure?",text:"The data will be permanently deleted",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(r){r.value&&e.$axios.delete(n.url+"/"+t.id).then((function(t){e.$swal({type:"success",title:"Success...",text:"Row Deleted!"}),e.getDataFromApi()})).catch((function(t){e.$swal({type:"error",title:"Oops...",text:t.response.data.message})}))}))},emitData:function(data){this.documentStatus=data.documentStatus,this.itemSearch=data.itemSearch,this.searchStatus=data.searchStatus,this.searchItem=data.searchItem,this.search=data.search,this.filters=data.filters,this.getDataFromApi()},getDataFromApi:function(){var t=this;this.loading=!0;var e=this;this.$axios.get(this.url,{params:{options:e.options,searchItem:e.searchItem,documentStatus:e.documentStatus,searchStatus:e.searchStatus,search:e.search}}).then((function(e){t.loading=!1,t.allData=e.data.data.rows,t.totalData=e.data.data.total,t.itemSearch=e.data.filter,t.form=Object.assign({},e.data.data.form),t.defaultItem=Object.assign({},e.data.data.form)})).catch((function(e){t.loading=!1,t.$swal({type:"error",title:"Error",text:e.response.data.message})}))}}},o=n(47),c=n(54),l=n.n(c),d=n(153),f=n(537),m=n(1050),h=n(234),v=n(235),y=n(155),w=n(53),x=n(529),O=n(565),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-row",[n("v-col",{staticClass:"mt-0",attrs:{cols:"12"}},[n("v-data-table",{staticClass:"elevation-1",attrs:{"mobile-breakpoint":0,headers:t.headers,items:t.allData,"items-per-page":20,options:t.options,"server-items-length":t.totalData,loading:t.loading,"hide-default-footer":"","show-select":"",dense:"","footer-props":{"items-per-page-options":[20,50,100,-1]}},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"top",fn:function(){return[n("LazyMainToolbar",{attrs:{"document-status":t.documentStatus,"search-status":t.searchStatus,"item-search":t.itemSearch,"search-item":t.searchItem,search:t.search,title:"Chart of Accounts"},on:{emitData:t.emitData,newData:t.newData}})]},proxy:!0},{key:"item.id",fn:function(e){var r=e.item;return[n("v-btn",{staticClass:"font-weight-bold text-right",attrs:{color:"secondary",text:"",small:""},on:{click:function(e){return t.actions(t.itemAction,r)}}},[t._v("\n          "+t._s(t.itemText)+"\n        ")]),t._v(" "),n("v-menu",{attrs:{transition:"slide-y-transition",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,o=e.attrs;return[n("v-btn",t._g(t._b({attrs:{color:"black",dark:"",icon:""}},"v-btn",o,!1),r),[n("v-icon",[t._v("mdi-menu-down")])],1)]}}],null,!0)},[t._v(" "),n("v-list",t._l(t.items,(function(e,i){return n("v-list-item",{key:i,on:{click:function(n){return t.actions(e.action,r)}}},[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(e.text))])],1)],1)})),1)],1)]}}],null,!0)}),t._v(" "),n("LazyAccountingFormAccount",{ref:"forms",attrs:{"form-data":t.form,"form-title":t.formTitle,"button-title":t.buttonTitle,url:t.url},on:{getDataFromApi:t.getDataFromApi}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{VBtn:d.a,VCol:f.a,VDataTable:m.a,VIcon:h.a,VList:v.a,VListItem:y.a,VListItemContent:w.a,VListItemTitle:w.c,VMenu:x.a,VRow:O.a})},565:function(t,e,n){"use strict";n(9),n(12),n(13),n(14);var r=n(1),o=(n(4),n(39),n(68),n(28),n(11),n(24),n(69),n(327),n(38),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(42),n(10),n(250),n(2)),c=n(74),l=n(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=["sm","md","lg","xl"],h=["start","end","center"];function v(t,e){return m.reduce((function(n,r){return n[t+Object(l.H)(r)]=e(),n}),{})}var y=function(t){return[].concat(h,["baseline","stretch"]).includes(t)},w=v("align",(function(){return{type:String,default:null,validator:y}})),x=function(t){return[].concat(h,["space-between","space-around"]).includes(t)},O=v("justify",(function(){return{type:String,default:null,validator:x}})),S=function(t){return[].concat(h,["space-between","space-around","stretch"]).includes(t)},j=v("alignContent",(function(){return{type:String,default:null,validator:S}})),C={align:Object.keys(w),justify:Object.keys(O),alignContent:Object.keys(j)},D={align:"align",justify:"justify",alignContent:"align-content"};function I(t,e,n){var r=D[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var A=new Map;e.a=o.a.extend({name:"v-row",functional:!0,props:f(f(f({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:y}},w),{},{justify:{type:String,default:null,validator:x}},O),{},{alignContent:{type:String,default:null,validator:S}},j),render:function(t,e){var n=e.props,data=e.data,o=e.children,l="";for(var d in n)l+=String(n[d]);var f=A.get(l);return f||function(){var t,e;for(e in f=[],C)C[e].forEach((function(t){var r=n[t],o=I(e,t,r);o&&f.push(o)}));f.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r.a)(t,"align-".concat(n.align),n.align),Object(r.a)(t,"justify-".concat(n.justify),n.justify),Object(r.a)(t,"align-content-".concat(n.alignContent),n.alignContent),t)),A.set(l,f)}(),t(n.tag,Object(c.a)(data,{staticClass:"row",class:f}),o)}})}}]);